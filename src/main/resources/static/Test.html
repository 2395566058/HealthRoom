<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
</head>

<body>
<script type="text/javascript">
var xmlhttp;
function loadXMLDoc(url)
{
	alert("开始访问路径："+url);
xmlhttp=null;
if (window.XMLHttpRequest){// code for all new browsers
  xmlhttp=new XMLHttpRequest();
}
else if (window.ActiveXObject){// code for IE5 and IE6
  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
 }
if (xmlhttp!=null){
  xmlhttp.onreadystatechange=state_Change;
  xmlhttp.open("POST",url,true);
//  xmlhttp.setRequestHeader("Content-type","multipart/form-data");
  var text=document.getElementById('b');
  var image=document.getElementById('c');
   var file= new FormData();
   if(image.files[0]!=null){
   	file.append("st_image",image.files[0]);
   }
   file.append("sc_name",text.value);
   /*
   file.append("st_name","dddd");
   file.append("st_user_id","aaa");
   file.append("st_as_id","gxfjhgfh");
   file.append("st_ma_id","hgxhxgh");
   file.append("st_admissiondate","2019-06-21");
   file.append("st_phone","11111111111");
   file.append("st_address","aaaaaaaaaaaaaaaaaaaa");
   file.append("st_born","2019-06-21");
   file.append("st_sex","男");
   file.append("st_sc","guku");
   */
 	 xmlhttp.send(file);
}else{
  alert("Your browser does not support XMLHTTP.");
}
}

function state_Change(){
if (xmlhttp.readyState==4){// 4 = "loaded"
  if (xmlhttp.status==200){// 200 = OK
    var msg=xmlhttp.responseText;
	alert(msg);
  }else{
    alert("Problem retrieving XML data");
  }
}
}
function fason(){
var url=document.getElementById('a').value;
alert("访问路径为："+url);
loadXMLDoc(url);
}
</script>
<input id="a" type="text" maxlength="100" style=" width:1000px"/>
<input id="b" type="text" maxlength="100" style=" width:1000px"/>
<input id="c" type="file" maxlength="100" style=" width:1000px"/>
<button onClick="fason()">发送请求</button>
</body>
</html>
